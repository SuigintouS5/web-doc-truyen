{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/history.css' %}">
{% endblock %}

{% block content %}
<div class="history-container container-layout">
    <h1 class="page-title">Truyện đã đọc</h1>
    
    <div class="history-grid">
        {% for item in ds_lich_su %}
            <div class="history-card">
                <a href="{% url 'truyen-detail' item.truyen.slug %}" class="cover-link">
                    <img src="{% if item.truyen.anh %}{{ item.truyen.anh.url }}{% else %}{% static 'img/default.jpg' %}{% endif %}" alt="{{ item.truyen.ten }}">
                </a>
                
                <div class="history-info">
                    <h3 class="story-title">
                        <a href="{% url 'truyen-detail' item.truyen.slug %}">{{ item.truyen.ten }}</a>
                    </h3>
                    <span class="author-name">{{ item.truyen.tac_gia }}</span>
                    <p class="current-chapter">
                        Đọc: <b>Chương {{ item.chuong_vua_doc.so_chuong }}</b>
                    </p>
                </div>
            </div>
        {% empty %}
            <div class="empty-history">Bạn chưa đọc bộ truyện nào.</div>
        {% endfor %}
    </div>
</div>
{% endblock %}